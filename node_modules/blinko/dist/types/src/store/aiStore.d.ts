import { Store } from './standard/base';
import { StorageListState } from './standard/StorageListState';
import { GlobalConfig, Note } from '@/server/types';
import { BlinkoStore } from './blinkoStore';
import { PromisePageState, PromiseState } from './standard/PromiseState';
import { StorageState } from './standard/StorageState';
import { BlinkoItem } from '@/components/BlinkoCard';
type Chat = {
    content: string;
    role: 'user' | 'system' | 'assistant';
    createAt: number;
    relationNotes?: Note[];
};
type WriteType = 'expand' | 'polish' | 'custom';
export type AssisantMessageMetadata = {
    notes?: BlinkoItem[];
    usage?: {
        promptTokens?: number;
        completionTokens?: number;
        totalTokens?: number;
    };
    fristCharDelay?: number;
};
export type currentMessageResult = AssisantMessageMetadata & {
    toolcall: string[];
    content: string;
    id?: number;
};
export declare class AiStore implements Store {
    sid: string;
    constructor();
    isChatting: boolean;
    isAnswering: boolean;
    input: string;
    withRAG: StorageState<unknown>;
    withTools: StorageState<unknown>;
    withOnline: StorageState<unknown>;
    referencesNotes: BlinkoItem[];
    currentMessageResult: currentMessageResult;
    currentConversationId: number;
    currentConversation: PromiseState<() => Promise<({
        messages: {
            id: number;
            role: string;
            content: string;
            conversationId: number;
            createdAt: Date;
            updatedAt: Date;
            metadata: import("@prisma/client/runtime/library").JsonValue | null;
        }[];
    } & {
        id: number;
        title: string;
        accountId: number;
        createdAt: Date;
        updatedAt: Date;
    }) | null>, Promise<({
        messages: {
            id: number;
            role: string;
            content: string;
            conversationId: number;
            createdAt: Date;
            updatedAt: Date;
            metadata: import("@prisma/client/runtime/library").JsonValue | null;
        }[];
    } & {
        id: number;
        title: string;
        accountId: number;
        createdAt: Date;
        updatedAt: Date;
    }) | null>>;
    conversactionList: PromisePageState<({ page, size }: any) => Promise<{
        id: number;
        title: string;
        accountId: number;
        createdAt: Date;
        updatedAt: Date;
    }[]>, Promise<{
        id: number;
        title: string;
        accountId: number;
        createdAt: Date;
        updatedAt: Date;
    }[]>>;
    onInputSubmit: (isRegenerate?: boolean) => Promise<void>;
    regenerate: (messageId: number) => Promise<void>;
    newChat: () => void;
    newChatWithSuggestion: (prompt: string) => Promise<void>;
    newRoleChat: (prompt: string) => Promise<void>;
    modelProviderSelect: {
        label: string;
        value: GlobalConfig['aiModelProvider'];
        icon: React.ReactNode;
    }[];
    modelSelect: Record<GlobalConfig['aiModelProvider'], Array<{
        label: string;
        value: string;
        maxTokens?: string;
        supportToolCall?: boolean;
    }>>;
    embeddingSelect: Record<string, Array<{
        label: string;
        value: string;
    }>>;
    modelSelectUILabel: {
        OpenAI: {
            modelTitle: string;
            modelTooltip: string;
            endpointTitle: string;
            endpointTooltip: string;
        };
        OpenRouter: {
            modelTitle: string;
            modelTooltip: string;
            endpointTitle: string;
            endpointTooltip: string;
        };
        AzureOpenAI: {
            modelTitle: string;
            modelTooltip: string;
            endpointTitle: string;
            endpointTooltip: string;
        };
        Ollama: {
            modelTitle: string;
            modelTooltip: string;
            endpointTitle: string;
            endpointTooltip: string;
        };
    };
    scrollTicker: number;
    chatHistory: StorageListState<Chat>;
    private aiChatabortController;
    private aiWriteAbortController;
    writingResponseText: string;
    isWriting: boolean;
    writeQuestion: string;
    currentWriteType: WriteType | undefined;
    isLoading: boolean;
    get blinko(): BlinkoStore;
    writeStream(writeType: 'expand' | 'polish' | 'custom' | undefined, content: string | undefined): Promise<void>;
    autoTag: PromiseState<(id: number, content: string) => Promise<string[] | undefined>, Promise<string[] | undefined>>;
    autoEmoji: PromiseState<(id: number, content: string) => Promise<string[] | undefined>, Promise<string[] | undefined>>;
    clearCurrentMessageResult: () => void;
    abortAiWrite(): void;
    abortAiChat(): Promise<void>;
    private clear;
}
export {};
