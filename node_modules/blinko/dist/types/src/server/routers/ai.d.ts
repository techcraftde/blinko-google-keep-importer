export declare const aiRouter: import("@trpc/server/unstable-core-do-not-import").BuiltRouter<{
    ctx: import("../context").User | {
        id: string;
        ip: any;
        userAgent: import("bowser").Parser.ParsedResult | null;
        name: string;
        sub: string;
        role: string;
        exp: number;
        iat: number;
    };
    meta: import("trpc-to-openapi").OpenApiMeta;
    errorShape: import("@trpc/server/unstable-core-do-not-import").DefaultErrorShape;
    transformer: true;
}, {
    embeddingUpsert: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            type: "update" | "insert";
            id: number;
            content: string;
        };
        output: {
            ok: true;
        };
    }>;
    embeddingInsertAttachments: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            id: number;
            filePath: string;
        };
        output: {
            ok: boolean;
            error?: undefined;
        } | {
            ok: boolean;
            error: any;
        } | {
            ok: boolean;
            msg: any;
        };
    }>;
    embeddingDelete: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            id: number;
        };
        output: {
            ok: boolean;
        } | {
            ok: boolean;
            msg: any;
        };
    }>;
    completions: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            question: string;
            conversations: {
                role: string;
                content: string;
            }[];
            withTools?: boolean | undefined;
            withOnline?: boolean | undefined;
            withRAG?: boolean | undefined;
            systemPrompt?: string | undefined;
        };
        output: AsyncGenerator<{
            chunk: import("ai").TextStreamPart<any>;
            notes?: undefined;
        } | {
            notes: any[];
            chunk?: undefined;
        }, void, unknown>;
    }>;
    speechToText: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            filePath: string;
        };
        output: void;
    }>;
    rebuildingEmbeddings: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            force?: boolean | undefined;
        };
        output: AsyncGenerator<import("../plugins/memos").ProgressResult & {
            progress?: {
                current: number;
                total: number;
            };
        }, void, unknown>;
    }>;
    summarizeConversationTitle: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            conversations: {
                role: string;
                content: string;
            }[];
            conversationId: number;
        };
        output: any;
    }>;
    writing: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            question: string;
            type?: "custom" | "expand" | "polish" | undefined;
            content?: string | undefined;
        };
        output: AsyncGenerator<import("ai").TextStreamPart<any>, void, unknown>;
    }>;
    autoTag: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            content: string;
        };
        output: string[];
    }>;
    autoEmoji: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            content: string;
        };
        output: string[];
    }>;
    AIComment: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            content: string;
            noteId: number;
        };
        output: any;
    }>;
    rebuildEmbeddingStart: import("@trpc/server").TRPCMutationProcedure<{
        input: {
            force?: boolean | undefined;
        };
        output: {
            success: boolean;
        };
    }>;
    rebuildEmbeddingStop: import("@trpc/server").TRPCMutationProcedure<{
        input: void;
        output: {
            success: boolean;
        };
    }>;
    rebuildEmbeddingProgress: import("@trpc/server").TRPCQueryProcedure<{
        input: void;
        output: import("../plugins/rebuildEmbeddingJob").RebuildProgress;
    }>;
    testConnect: import("@trpc/server").TRPCMutationProcedure<{
        input: void;
        output: {
            success: boolean;
        };
    }>;
}>;
